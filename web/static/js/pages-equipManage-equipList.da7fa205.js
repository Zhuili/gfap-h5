(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-equipManage-equipList"],{"0925":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return i}));var i={uniIcons:e("dfc9").default,scrollList:e("3008").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-scroll-view",{staticClass:"page",class:null!=t.modalName?"show":"",attrs:{"scroll-y":null==t.modalName}},[e("cu-custom",{attrs:{bgColor:"bg-gradual-white",isBack:!0,isHome:!0}},[e("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("设备管理")])],2),e("v-uni-view",{staticClass:"main-type"},[e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"top-select"},[e("v-uni-picker",{attrs:{value:t.FacIndex,range:t.facResult},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.FacChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.FacIndex>-1?t.facResult[t.FacIndex]:"区域")),-1!==t.FacIndex?e("uni-icons",{attrs:{type:"clear",color:"#7e7d96ff",size:"24"},nativeOn:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.clear.apply(void 0,arguments)}}}):t._e()],1)],1)],1),e("v-uni-view",{staticClass:"top-select"},[e("v-uni-picker",{attrs:{value:t.lineIndex,range:t.LineResult},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.LineChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.lineIndex>-1?t.LineResult[t.lineIndex]:"产线")),-1!==t.lineIndex?e("uni-icons",{attrs:{type:"clear",color:"#7e7d96ff",size:"24"},nativeOn:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.clear("line")}}}):t._e()],1)],1)],1)],1)],1),e("v-uni-view",{staticClass:"main-view"},[e("scroll-list",{ref:"list",on:{load:function(a){arguments[0]=a=t.$handleEvent(a),t.load.apply(void 0,arguments)},refresh:function(a){arguments[0]=a=t.$handleEvent(a),t.refresh.apply(void 0,arguments)}}},t._l(t.dataList,(function(a,i){return e("v-uni-view",{key:i,staticClass:"list-item list-view animation-slide-bottom",class:1===t.TabCur?"list-view-forbidden":"",style:[{animationDelay:.05*(i+1)+"s"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickTask(a)}}},[e("v-uni-view",{staticClass:"cu-card"},[e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"data-view"},[t._t("top",[e("v-uni-view",{staticClass:"data-info"},[e("v-uni-view",{staticClass:"data-content"},[e("v-uni-text",{staticClass:"data-title"},[t._v("备件编码")]),e("v-uni-text",{staticClass:"data-content"},[t._v(t._s(a.f_code))])],1)],1),e("v-uni-view",{staticClass:"data-info"},[e("v-uni-view",{staticClass:"data-content"},[e("v-uni-text",{staticClass:"data-title"},[t._v("备件名称")]),e("v-uni-text",{staticClass:"data-content"},[t._v(t._s(a.f_name))])],1)],1),e("v-uni-view",{staticClass:"data-info"},[e("v-uni-view",{staticClass:"data-content"},[e("v-uni-text",{staticClass:"data-title"},[t._v("设备类型")]),e("v-uni-text",{staticClass:"data-content"},[t._v(t._s(a.type_id))])],1)],1)])],2)],1)],1)],1)})),1)],1)],1)],1)},s=[]},"23ca":function(t,a,e){var i=e("3749");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("45d4490e",i,!0,{sourceMap:!1,shadowMode:!1})},3749:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* uni.scss */.page[data-v-d7c3ee94]{height:100vh;width:100vw}.page.show[data-v-d7c3ee94]{overflow:hidden}.main-view[data-v-d7c3ee94]{height:calc(100% - %?220?%);overflow-x:hidden;overflow-y:auto}.main-type[data-v-d7c3ee94]{display:flex;background-color:#fff;padding:%?10?% 0}.cu-form-group[data-v-d7c3ee94]{width:100%}.cu-form-group .title[data-v-d7c3ee94]{padding-right:0}.cu-form-group .top-select[data-v-d7c3ee94]{display:flex;align-items:center;width:47%;border:solid 1px #d8d8d8;padding:0 %?20?%;border-radius:%?10?%;height:40px}.cu-form-group .picker[data-v-d7c3ee94]{font-size:%?32?%!important;text-align:center}.list-view-forbidden .border-view[data-v-d7c3ee94]{background-color:#ccc}.cu-item[data-v-d7c3ee94]{margin:0;position:relative;margin-top:%?24?%}.cu-item .img[data-v-d7c3ee94]{position:absolute;right:4%;top:30%}.cu-item .img uni-image[data-v-d7c3ee94]{width:%?160?%;height:%?160?%;border-radius:%?10?%}.data-view[data-v-d7c3ee94]{position:relative;padding:%?30?%;width:inherit;flex-wrap:wrap;line-height:%?40?%}.data-view .data-content[data-v-d7c3ee94]{display:flex;width:100%}.data-view .data-title[data-v-d7c3ee94]{width:%?160?%;margin-right:%?20?%;overflow-wrap:break-word;color:#999;font-size:%?28?%;font-family:PingFangSC-Regular;font-weight:400;text-align:left;white-space:nowrap;text-align-last:justify}.data-view .data-content[data-v-d7c3ee94]{font-size:%?28?%;color:#333}.data-info[data-v-d7c3ee94]{line-height:%?60?%;width:100%;display:flex;justify-content:flex-start}.footer[data-v-d7c3ee94]{padding:15px;text-align:center}',""]),t.exports=a},"4c0c":function(t,a,e){"use strict";var i=e("23ca"),n=e.n(i);n.a},"61f0":function(t,a,e){"use strict";e.r(a);var i=e("0925"),n=e("a59f");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("4c0c");var c=e("828b"),d=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"d7c3ee94",null,!1,i["a"],void 0);a["default"]=d.exports},"8b6b":function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("9b1b")),s=i(e("b7c7"));e("bf0f"),e("c223"),e("fd3c"),e("aa9c"),e("aa77"),e("5c47"),e("af8f");var c=i(e("4c25")),d=i(e("3008")),o=(e("3387"),{components:{ScrollList:d.default},data:function(){return{paging:{page:1,size:20},loading:!1,show:!0,modalName:null,TabCur:0,dataList:[],FacIndex:-1,lineIndex:-1,facData:[],facResult:[],LineResult:[],lineId:""}},created:function(){this.getFactory()},methods:{load:function(t){var a=this;setTimeout((function(){a.paging=t,a.initData("load")}),this.$u.random(100,1e3))},refresh:function(t){var a=this;setTimeout((function(){a.paging=t,a.initData("refresh")}),this.$u.random(100,1e3))},initData:function(t,a){var e=this,i=[];this.show=!0,this.loading=!0;var n={page:this.paging.page,pageSize:this.paging.size,LineId:this.lineId?this.lineId:""};c.default.GetManagementList("EquipmentList",n).then((function(a){200===a.code?(i=a.data,"refresh"!==t?(e.dataList=[].concat((0,s.default)(e.dataList),(0,s.default)(i)),e.$refs.list.loadSuccess({list:e.dataList,total:a.pagination.totalCount})):(e.dataList=i,e.$refs.list.refreshSuccess({list:e.dataList,total:a.pagination.totalCount}))):e.$refs.list.loadFail()})).catch((function(t){var a=t.data.message||"请求出现错误，请稍后再试";e.$tip.alert(a)})).finally((function(){setTimeout((function(){e.loading=!1}),100)}))},getFactory:function(){var t=this;c.default.GetFactory("FactoryData").then((function(a){200===a.code?(t.facData=a.data,t.facResult=a.data.map((function(t){return t.f_code}))):t.$tip.alert(a.data.message)})).catch((function(t){}))},handleClickTask:function(t){this.$Router.push({name:"equipDetails",params:{row:(0,n.default)({},t)}})},FacChange:function(t){this.FacIndex=t.detail.value,console.log(this.facResult[this.FacIndex]);var a=this.facResult[this.FacIndex],e=this.facData.find((function(t){return t.f_code===a}));if(e&&e.children){var i=e.children.map((function(t){return t.f_code}));this.LineResult=i,console.log(i)}},search:function(){this.paging.page=1,this.dataList=[],this.initData("load")},LineChange:function(t){this.lineIndex=t.detail.value;var a=this.LineResult[this.lineIndex],e=this.facData.find((function(t){return t.children.some((function(t){return t.f_code===a}))}));if(e){var i=e.children.find((function(t){return t.f_code===a}));this.lineId=i?i.f_Id:null}this.search()},clear:function(t){"line"===t?(this.lineId="",this.lineIndex=-1):(this.FacIndex=-1,this.lineIndex=-1,this.LineResult=[]),this.search()}}});a.default=o},a59f:function(t,a,e){"use strict";e.r(a);var i=e("8b6b"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-deviceChecks-checkTask-checkTask"],{"0167":function(t,a,e){"use strict";e.r(a);var i=e("c312"),n=e("ce48");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("14cf");var o=e("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"ef9a8942",null,!1,i["a"],void 0);a["default"]=r.exports},"083d":function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* uni.scss */.page[data-v-ef9a8942]{height:100Vh;width:100vw}.page.show[data-v-ef9a8942]{overflow:hidden}.main-view[data-v-ef9a8942]{height:calc(100% - %?320?%);overflow-x:hidden;overflow-y:auto}.main-type[data-v-ef9a8942]{display:flex;background-color:#fff}.cu-form-group[data-v-ef9a8942]{width:53%}.cu-form-group .title[data-v-ef9a8942]{padding-right:0}.cu-form-group .sty[data-v-ef9a8942]{font-size:%?32?%;font-family:PingFangSC-Medium;font-weight:500}.cu-form-group .picker[data-v-ef9a8942]{font-size:%?32?%!important}.list-view-forbidden .border-view[data-v-ef9a8942]{background-color:#ccc}.cu-bar[data-v-ef9a8942]{width:100%}.cu-item[data-v-ef9a8942]{margin:%?10?% 0;position:relative}.cu-item .img[data-v-ef9a8942]{position:absolute;right:4%;top:30%}.cu-item .img uni-image[data-v-ef9a8942]{width:%?160?%;height:%?160?%;border-radius:%?20?%}.data-view[data-v-ef9a8942]{position:relative;padding:%?30?%;width:inherit;flex-wrap:wrap;line-height:%?40?%}.data-view .data-content[data-v-ef9a8942]{display:flex;width:100%}.data-view .data-title[data-v-ef9a8942]{width:%?160?%;margin-right:%?20?%;overflow-wrap:break-word;color:#999;font-size:%?28?%;font-family:PingFangSC-Regular;font-weight:400;text-align:left;white-space:nowrap;text-align-last:justify}.data-view .data-content[data-v-ef9a8942]{font-size:%?28?%;color:#333}.data-view .data-status[data-v-ef9a8942]{position:absolute;top:0;right:%?45?%;padding:5px;border-radius:0 0 %?12?% %?12?%;width:%?112?%;height:%?48?%;font-size:%?24?%;display:flex;align-items:center;justify-content:center}.data-view .finish[data-v-ef9a8942]{color:#228940;background-color:rgba(133,210,164,.2)}.data-view .abnormal[data-v-ef9a8942]{color:#ba1111;background-color:rgba(210,133,133,.2)}.data-view .wait-check[data-v-ef9a8942]{color:#2979ff;background-color:rgba(133,153,210,.2)}.data-view .overdue[data-v-ef9a8942]{color:#b620e0;background-color:rgba(210,133,210,.2)}.data-info[data-v-ef9a8942]{line-height:%?60?%;width:100%;display:flex;justify-content:flex-start}.main-title[data-v-ef9a8942]{display:flex;align-items:center}.main-title uni-image[data-v-ef9a8942]{width:%?35?%;height:%?35?%;margin-right:%?16?%}.main-title .detail-title[data-v-ef9a8942]{margin:%?10?% 0;font-size:%?28?%;font-weight:500}.main-title .check-type[data-v-ef9a8942]{border-radius:%?8?%;width:%?120?%;height:%?40?%;border:%?2?% solid #369754;overflow-wrap:break-word;color:#369754;font-size:%?24?%;font-weight:400;text-align:center;white-space:nowrap;margin-left:%?8?%}.group_46[data-v-ef9a8942]{width:%?206?%;margin:0 %?0?% 0 %?50?%;display:flex;margin-bottom:%?15?%}.group_46 .text-wrapper_2[data-v-ef9a8942]{background-color:rgba(34,137,64,.1);border-radius:%?4?%;padding:%?2?% %?12?% 0 %?12?%;margin-right:%?10?%}.group_46 .text_7[data-v-ef9a8942]{overflow-wrap:break-word;color:#228940;font-size:%?28?%;font-weight:400;text-align:left;white-space:nowrap;line-height:%?40?%}.group_46 .text-wrapper_3[data-v-ef9a8942]{background-color:rgba(34,137,64,.1);border-radius:%?4?%;padding:%?2?% %?12?% 0 %?12?%}.group_46 .text_8[data-v-ef9a8942]{overflow-wrap:break-word;color:#228940;font-size:%?28?%;font-weight:400;text-align:left;white-space:nowrap;line-height:%?40?%}.footer[data-v-ef9a8942]{padding:15px;text-align:center}',""]),t.exports=a},"14cf":function(t,a,e){"use strict";var i=e("fae5"),n=e.n(i);n.a},"5a79":function(t,a,e){t.exports=e.p+"static/qiesheng.png"},a1bc:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAYAAAAbvf3sAAAAAXNSR0IArs4c6QAAAN5JREFUKFOl0j1Kg0EURuEnINjYRYQI2mQDgkW0SyHp0mphqtSWugAb7VIp2IlLMI0rCEjAxg3Y+FNJqqSMfhcmMOhICqcbZs6c+869NctXDfdYRT8219grcHMcYh8DjLASwBgtfBWgnfTgER5xkgM9bCRohpv0WFjCcIthDhxgPQFTvFR1X+IDrziPsxzYxFpWVjOVc5UMQ3Rz4AJbhRxhOKsuP2F3Weic/wVEvdsFwztOS4bGjwwLNj7grQR0UC8YJlWfHkrAcdaHnPvE3b9CRxfbf4zGwhRj8xzD9w0QkTcr8p91LAAAAABJRU5ErkJggg=="},c312:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return i}));var i={scrollList:e("3008").default},n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("v-uni-scroll-view",{staticClass:"page",class:null!=t.modalName?"show":"",attrs:{"scroll-y":null==t.modalName}},[i("cu-custom",{attrs:{bgColor:"bg-gradual-white",isBack:!0,isHome:!1}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("点检任务")]),i("template",{attrs:{slot:"right"},slot:"right"},[i("v-uni-view",{staticClass:"title sty"},[t._v("点检类型：")]),i("v-uni-picker",{attrs:{value:t.index,range:t.picker},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.PickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.index>-1?t.picker[t.index]:"自主点检")),i("v-uni-image",{staticStyle:{width:"24upx",height:"24upx"},attrs:{src:e("6bb1")}})],1)],1)],1)],2),i("v-uni-view",{staticClass:"cu-bar bg-white search "},[i("v-uni-view",{staticClass:"search-form "},[i("v-uni-text",{staticClass:"cuIcon-search"}),i("v-uni-input",{attrs:{type:"text",placeholder:"输入搜索的关键词","confirm-type":"search"},on:{focus:function(a){arguments[0]=a=t.$handleEvent(a),t.InputFocus.apply(void 0,arguments)},blur:function(a){arguments[0]=a=t.$handleEvent(a),t.InputBlur.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn bg-gradual-green shadow-blur",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onSearch.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-search"})],1)],1)],1),i("v-uni-scroll-view",{staticClass:"bg-white nav margin-bottom-xs",attrs:{"scroll-x":!0}},[i("v-uni-view",{staticClass:"flex text-center"},t._l(t.queueStatus,(function(a,e){return i("v-uni-view",{key:e,staticClass:"cu-item flex-sub",class:e==t.TabCur?"text-green cur":"",attrs:{"data-id":e},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tabSelect(a,e)}}},[t._v(t._s(a.name))])})),1)],1),i("v-uni-view",{staticClass:"main-view"},[i("scroll-list",{ref:"list",attrs:{option:t.option},on:{load:function(a){arguments[0]=a=t.$handleEvent(a),t.initData.apply(void 0,arguments)},refresh:function(a){arguments[0]=a=t.$handleEvent(a),t.refresh.apply(void 0,arguments)}}},[t.loading?i("v-uni-view",{staticClass:"cu-load load-modal"},[i("v-uni-view",{staticClass:"gray-text"},[t._v("加载中...")])],1):t._e(),t._l(t.dataList,(function(a,n){return i("v-uni-view",{key:n,staticClass:"list-item list-view  animation-slide-bottom",class:1===t.TabCur?"list-view-forbidden":"",style:[{animationDelay:.05*(n+1)+"s"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickTask(a)}}},[i("v-uni-view",{staticClass:"cu-card"},[i("v-uni-view",{staticClass:"cu-item margin-bottom-xs"},[i("v-uni-view",{staticClass:"img"},[a.picture_uri?i("v-uni-image",{attrs:{src:t.serviceUrl+JSON.parse(a.picture_uri)[0].thumbUrl}}):i("v-uni-image",{attrs:{src:e("5a79")}})],1),i("v-uni-view",{staticClass:"data-view"},[i("v-uni-view",{staticClass:"main-title"},[i("v-uni-image",{attrs:{src:e("a1bc")}}),i("v-uni-view",{staticClass:"detail-title"},[t._v(t._s(a.plan_name?a.plan_name:"点检计划"))]),i("v-uni-view",{staticClass:"check-type"},[t._v(t._s(a.audit_task_type_id))])],1),i("v-uni-view",{staticClass:"group_46 flex-row justify-between"},[i("v-uni-view",{staticClass:"text-wrapper_2 flex-col"},[i("span",{staticClass:"text_7"},[t._v(t._s(a.factory_name))])])],1),t._t("top",[i("v-uni-view",{staticClass:"data-info"},[i("v-uni-view",{staticClass:"data-content"},[i("v-uni-text",{staticClass:"data-title"},[t._v("设备编码")]),i("v-uni-text",{staticClass:"data-content"},[t._v(t._s(a.equipment_code))])],1)],1),i("v-uni-view",{staticClass:"data-info"},[i("v-uni-view",{staticClass:"data-content"},[i("v-uni-text",{staticClass:"data-title"},[t._v("设备名称")]),i("v-uni-text",{staticClass:"data-content"},[t._v(t._s(a.equipment_name))])],1)],1),i("v-uni-view",{staticClass:"data-info"},[i("v-uni-view",{staticClass:"data-content"},[i("v-uni-text",{staticClass:"data-title"},[t._v("点检过期时间")]),i("v-uni-text",{staticClass:"data-content"},[t._v(t._s(a.task_close_time))])],1)],1)]),i("v-uni-view",{class:["data-status","异常"===a.f_status?"abnormal":"已完成"===a.f_status?"finish":"待点检"===a.f_status?"wait-check":"已过期"===a.f_status?"overdue":""]},[t._v(t._s(a.f_status))])],2)],1)],1)],1)}))],2)],1),i("v-uni-view",{staticClass:"footer"},[t._v("没有更多的数据了")])],1)],1)},s=[]},ce48:function(t,a,e){"use strict";e.r(a);var i=e("e12c"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},e12c:function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("9b1b")),s=i(e("b7c7"));e("bf0f"),e("c223"),e("5c47"),e("af8f"),e("aa9c");e("779c");var o=i(e("4c25")),r=i(e("da09")),c=(e("3387"),i(e("6af4"))),l=i(e("3008")),u={components:{ItemCard:r.default,ScrollList:l.default},data:function(){return{option:{size:20,auto:!0},paging:{page:1,size:20},loading:!1,show:!0,modeClass:["fade","slide-right"],serviceUrl:"",queueStatus:[{name:"全部",value:"",type:""},{name:"待点检",value:"待点检",type:""},{name:"已完成",value:"已完成",type:""},{name:"异常",value:"异常",type:""},{name:"已过期",value:"已过期",type:""}],modalName:null,TabCur:0,dataList:[],pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"rgba(34, 137, 64, 1)",iconColor:"#fff"},index:-1,picker:["自主点检","委外点检"],searchValue:""}},created:function(){this.serviceUrl=c.default.serviceUrl,this.initData()},methods:{load:function(t){var a=this;setTimeout((function(){a.paging=t,a.initData("load")}),this.$u.random(100,1e3))},refresh:function(t){var a=this;setTimeout((function(){a.paging=t,a.initData("refresh")}),this.$u.random(100))},initData:function(t,a){var e=this;this.show=!0,this.loading=!0;var i={page:this.paging.page,pageSize:this.paging.size,status:this.tabValue?this.tabValue.value:"",type:this.picker[this.index]?this.picker[this.index]:"",condition:this.searchValue?this.searchValue:""};o.default.GetInspectionList("InspectionTask",i).then((function(a){if(200===a.code){var i=a.data;"refresh"!==t?(e.dataList=[].concat((0,s.default)(e.dataList),(0,s.default)(i)),e.$refs.list.loadSuccess({list:e.dataList,total:a.pagination.totalCount})):(e.dataList=i,e.$refs.list.refreshSuccess({list:e.dataList,total:a.pagination.totalCount}))}else e.$refs.list.loadFail()})).catch((function(t){var a=t.data.message||"请求出现错误，请稍后再试";e.$tip.alert(a)})).finally((function(){setTimeout((function(){e.loading=!1}),500)}))},search:function(){this.paging.page=1,this.dataList=[],this.initData("load")},tabSelect:function(t,a){this.tabValue=t,this.TabCur=a,this.search()},handleClickTask:function(t){this.$Router.push({name:"checkDetails",params:{row:(0,n.default)({},t)}})},PickerChange:function(t){this.index=t.detail.value,this.search()},onSearch:function(){this.initData()},InputBlur:function(t){this.searchValue=t.detail.value}}};a.default=u},fae5:function(t,a,e){var i=e("083d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("199b7531",i,!0,{sourceMap:!1,shadowMode:!1})}}]);